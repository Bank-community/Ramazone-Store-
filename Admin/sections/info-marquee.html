<!-- sections/info-marquee.html -->
<div class="flex justify-between items-center mb-6">
    <h2 class="text-2xl font-bold text-gray-800">Info Marquee</h2>
</div>
<form id="marquee-form" class="admin-card">
    <div class="card-body">
        <label class="form-label">Marquee Text</label>
        <input type="text" class="form-control" data-key="text" placeholder="e.g., Free delivery on all orders...">
    </div>
    <div class="card-footer flex justify-end">
        <button type="submit" class="btn btn-primary"><i class="fas fa-save mr-2"></i> Save Marquee Text</button>
    </div>
</form>

<script>
(function() {
    const form = document.getElementById('marquee-form');
    const marqueeData = window.ramazoneData.homepage?.infoMarquee || '';
    const input = form.querySelector('[data-key="text"]');
    input.value = marqueeData;

    form.addEventListener('submit', async (e) => {
        e.preventDefault();
        await db.ref(`${DB_BASE_PATH}/homepage/infoMarquee`).set(input.value);
        window.showToast('Success', 'Info Marquee saved!', 'success');
    });
})();
</script>
